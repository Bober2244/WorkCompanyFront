{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ad4aa3dc\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"reviews-page\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Отзывы о нас\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"reviews-list\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"review-product\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"product-info\"\n};\nconst _hoisted_7 = {\n  class: \"product-title\"\n};\nconst _hoisted_8 = {\n  class: \"rating\"\n};\nconst _hoisted_9 = {\n  class: \"category\"\n};\nconst _hoisted_10 = {\n  class: \"date\"\n};\nconst _hoisted_11 = {\n  class: \"feedback-form\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Оставьте свой отзыв\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  class: \"form-group\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Ваше имя:\", -1 /* HOISTED */));\nconst _hoisted_15 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_16 = {\n  class: \"form-group\"\n};\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"feedback\"\n}, \"Ваш отзыв:\", -1 /* HOISTED */));\nconst _hoisted_18 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_19 = {\n  class: \"form-group\"\n};\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Оценка:\", -1 /* HOISTED */));\nconst _hoisted_21 = {\n  class: \"stars\"\n};\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_24 = {\n  class: \"form-group\"\n};\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"category\"\n}, \"Категория:\", -1 /* HOISTED */));\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"service\"\n}, \"Сервис\", -1 /* HOISTED */));\nconst _hoisted_27 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"product\"\n}, \"Продукт\", -1 /* HOISTED */));\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"website\"\n}, \"Веб-сайт\", -1 /* HOISTED */));\nconst _hoisted_29 = [_hoisted_26, _hoisted_27, _hoisted_28];\nconst _hoisted_30 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_31 = {\n  class: \"form-group\"\n};\nconst _hoisted_32 = {\n  key: 0,\n  class: \"form-group\"\n};\nconst _hoisted_33 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"product\"\n}, \"Выберите продукт:\", -1 /* HOISTED */));\nconst _hoisted_34 = {\n  class: \"form-group\"\n};\nconst _hoisted_35 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppHeader = _resolveComponent(\"AppHeader\");\n  const _component_VueSelect = _resolveComponent(\"VueSelect\");\n  const _component_AppFooter = _resolveComponent(\"AppFooter\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_AppHeader), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.reviews, review => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"review-item\",\n      key: review.id\n    }, [review.category === 'product' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n      src: $options.getProductImage(review.item_id),\n      alt: \"Product image\",\n      class: \"product-image\"\n    }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", _hoisted_7, _toDisplayString($options.getProductTitle(review.item_id)), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h3\", null, [_createTextVNode(_toDisplayString(review.name_of_reviewer) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_8, \"(\" + _toDisplayString(review.score) + \" ★)\", 1 /* TEXT */)]), _createElementVNode(\"p\", null, _toDisplayString(review.text), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_9, \"Категория: \" + _toDisplayString(review.category), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, _toDisplayString($options.formatDate(review.date)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.submitFeedback && $options.submitFeedback(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.feedback.name = $event),\n    required: \"\",\n    placeholder: \"Введите ваше имя\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.feedback.name]]), !$data.feedback.name ? (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"Это поле обязательно для заполнения\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"feedback\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.feedback.message = $event),\n    rows: \"4\",\n    required: \"\",\n    placeholder: \"Напишите ваш отзыв\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.feedback.message]]), !$data.feedback.message ? (_openBlock(), _createElementBlock(\"span\", _hoisted_18, \"Это поле обязательно для заполнения\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _createElementVNode(\"div\", _hoisted_21, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, n => {\n    return _createElementVNode(\"span\", {\n      key: n,\n      class: _normalizeClass([\"star\", {\n        'filled': n <= $data.feedback.rating\n      }]),\n      onClick: $event => $options.setRating(n)\n    }, \"★\", 10 /* CLASS, PROPS */, _hoisted_22);\n  }), 64 /* STABLE_FRAGMENT */))]), $data.feedback.rating === 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_23, \"Пожалуйста, выберите оценку\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_24, [_hoisted_25, _withDirectives(_createElementVNode(\"select\", {\n    id: \"category\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.feedback.category = $event),\n    required: \"\"\n  }, _hoisted_29, 512 /* NEED_PATCH */), [[_vModelSelect, $data.feedback.category]]), !$data.feedback.category ? (_openBlock(), _createElementBlock(\"span\", _hoisted_30, \"Это поле обязательно для выбора\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.feedback.agree = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.feedback.agree]]), _createTextVNode(\" Я согласен на обработку персональных данных \")])]), $data.feedback.category === 'product' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, [_hoisted_33, _createVNode(_component_VueSelect, {\n    items: $data.products,\n    value: $data.selectedProductId,\n    onProductId: $options.updateSelectedProductId\n  }, null, 8 /* PROPS */, [\"items\", \"value\", \"onProductId\"])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"button\", {\n    class: \"form__button\",\n    disabled: !$options.isFormValid\n  }, \"Отправить отзыв\", 8 /* PROPS */, _hoisted_35)])], 32 /* HYDRATE_EVENTS */)])]), _createVNode(_component_AppFooter)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","for","value","_hoisted_26","_hoisted_27","_hoisted_28","_createVNode","_component_AppHeader","_hoisted_1","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","$data","review","key","id","category","_hoisted_4","src","$options","item_id","alt","_hoisted_6","_hoisted_7","name_of_reviewer","_hoisted_8","score","text","_hoisted_9","_hoisted_10","date","_hoisted_11","_hoisted_12","onSubmit","_hoisted_13","_hoisted_14","type","name","required","placeholder","_hoisted_15","_hoisted_16","_hoisted_17","message","rows","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","n","rating","onClick","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_30","_hoisted_31","agree","_hoisted_32","_hoisted_33","_component_VueSelect","items","onProductId","_hoisted_34","disabled","_component_AppFooter"],"sourceRoot":"","sources":["/Users/nicolassergeev/WebstormProjects/frontendShoesShop/pages/Reviews.vue"],"sourcesContent":["<template>\n  <AppHeader></AppHeader>\n  <div class=\"reviews-page\">\n    <h1>Отзывы о нас</h1>\n\n    <div class=\"reviews-list\">\n      <div class=\"review-item\" v-for=\"review in reviews\" :key=\"review.id\">\n        <div v-if=\"review.category === 'product'\" class=\"review-product\">\n          <img\n              :src=\"getProductImage(review.item_id)\"\n              alt=\"Product image\"\n              class=\"product-image\"\n          />\n          <div class=\"product-info\">\n            <p class=\"product-title\">{{ getProductTitle(review.item_id) }}</p>\n          </div>\n        </div>\n        <h3>\n          {{ review.name_of_reviewer }}\n          <span class=\"rating\">({{ review.score }} ★)</span>\n        </h3>\n        <p>{{ review.text }}</p>\n        <p class=\"category\">Категория: {{ review.category }}</p>\n        <p class=\"date\">{{ formatDate(review.date) }}</p>\n      </div>\n    </div>\n\n\n    <div class=\"feedback-form\">\n      <h3>Оставьте свой отзыв</h3>\n      <form @submit.prevent=\"submitFeedback\">\n        <div class=\"form-group\">\n          <label for=\"name\">Ваше имя:</label>\n          <input type=\"text\" id=\"name\" v-model=\"feedback.name\" required placeholder=\"Введите ваше имя\" />\n          <span v-if=\"!feedback.name\" class=\"error\">Это поле обязательно для заполнения</span>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"feedback\">Ваш отзыв:</label>\n          <textarea id=\"feedback\" v-model=\"feedback.message\" rows=\"4\" required placeholder=\"Напишите ваш отзыв\"></textarea>\n          <span v-if=\"!feedback.message\" class=\"error\">Это поле обязательно для заполнения</span>\n        </div>\n        <div class=\"form-group\">\n          <label>Оценка:</label>\n          <div class=\"stars\">\n            <span\n                v-for=\"n in 5\"\n                :key=\"n\"\n                class=\"star\"\n                :class=\"{ 'filled': n <= feedback.rating }\"\n                @click=\"setRating(n)\"\n            >★</span>\n          </div>\n          <span v-if=\"feedback.rating === 0\" class=\"error\">Пожалуйста, выберите оценку</span>\n        </div>\n\n\n        <div class=\"form-group\">\n          <label for=\"category\">Категория:</label>\n          <select id=\"category\" v-model=\"feedback.category\" required>\n            <option value=\"service\">Сервис</option>\n            <option value=\"product\">Продукт</option>\n            <option value=\"website\">Веб-сайт</option>\n          </select>\n          <span v-if=\"!feedback.category\" class=\"error\">Это поле обязательно для выбора</span>\n        </div>\n\n        <div class=\"form-group\">\n          <label>\n            <input type=\"checkbox\" v-model=\"feedback.agree\" /> Я согласен на обработку персональных данных\n          </label>\n        </div>\n\n        <div class=\"form-group\" v-if=\"feedback.category === 'product'\">\n          <label for=\"product\">Выберите продукт:</label>\n          <VueSelect\n              :items=\"products\"\n              :value=\"selectedProductId\"\n              @productId=\"updateSelectedProductId\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <button  class=\"form__button\" :disabled=\"!isFormValid\">Отправить отзыв</button>\n        </div>\n      </form>\n    </div>\n  </div>\n  <AppFooter></AppFooter>\n</template>\n\n<script>\nimport AppHeader from \"@/components/AppHeader.vue\";\nimport AppFooter from \"@/components/AppFooter.vue\";\nimport axios from \"axios\";\nimport VueSelect from \"@/components/VueSelect.vue\";\n\nexport default {\n  name: \"ProductReviews\",\n  components: {VueSelect, AppFooter, AppHeader },\n  data() {\n    return {\n      products: [],\n      reviews: [],\n      feedback: {\n        name: '',\n        message: '',\n        rating: 0,\n        agree: false,\n        category: 'product'\n      },\n      selectedProductId: null,\n    };\n  },\n  computed: {\n    isFormValid() {\n      return (\n          this.feedback.name &&\n          this.feedback.message &&\n          this.feedback.rating > 0 &&\n          this.feedback.category &&\n          this.feedback.agree &&\n          (this.feedback.category !== \"product\" || this.selectedProductId)\n      );\n    },\n    productsWithLabels() {\n      return this.products.map(product => ({\n        label: product.title,\n        value: product.id\n      }));\n    },\n  },\n  methods: {\n    getProductImage(itemId) {\n      const product = this.products.find((product) => product.id === itemId);\n      return product && product.image_urls.length > 0 ? product.image_urls[0] : 'default-image.jpg';\n    },\n    getProductTitle(itemId) {\n      const product = this.products.find((product) => product.id === itemId);\n      return product ? product.title : 'Неизвестный продукт';\n    },\n    updateSelectedProductId(productId) {\n      console.log(\"Received productId in parent:\", productId); // Лог для проверки\n      this.selectedProductId = productId;\n    },\n    async fetchReviews() {\n      try {\n        const response = await axios.get(\"http://localhost:8000/api/reviews\");\n        this.reviews = response.data;\n      } catch (error) {\n        console.error(\"Ошибка при загрузке отзывов:\", error);\n      }\n    },\n    async fetchProducts() {\n      try {\n        const response = await axios.get(\"http://localhost:8000/api/items\");\n        this.products = response.data;\n        console.log(this.products);\n      } catch (error) {\n        console.error(\"Ошибка при загрузке отзывов:\", error);\n      }\n    },\n    async submitFeedback() {\n      try {\n        const userId = sessionStorage.getItem('userId');\n        const toNow = new Date().toISOString();\n        console.log({\n          name_of_reviewer: this.feedback.name,\n          text: this.feedback.message,\n          score: this.feedback.rating,\n          category: this.feedback.category,\n          date: toNow,\n          user_id: parseInt(userId),\n          item_id: this.selectedProductId,\n        });\n        await axios.post('http://localhost:8000/api/reviews', {\n          name_of_reviewer: this.feedback.name,\n          text: this.feedback.message,\n          score: this.feedback.rating,\n          category: this.feedback.category,\n          date: toNow,\n          user_id: parseInt(userId),\n          item_id: this.selectedProductId,\n        });\n        await this.fetchReviews();\n        this.feedback = {\n          name: '',\n          message: '',\n          rating: 0,\n          agree: false,\n          category: 'product',\n        };\n      } catch (error) {\n        console.error(\"Ошибка при загрузке данных отзыва:\", error.response ? error.response.data : error);\n        alert(\"Не удалось отправить отзыв. Попробуйте позже.\");\n      }\n    },\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('ru-RU', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n      });\n    },\n    setRating(rating) {\n      this.feedback.rating = rating;\n    }\n  },\n  mounted() {\n    this.fetchReviews();\n    this.fetchProducts();\n  },\n};\n</script>\n\n<style scoped>\n\n.vue-select-dropdown {\n  position: absolute;\n  z-index: 10; /* Убедитесь, что список виден над другими элементами */\n  background: white;\n  border: 1px solid #ccc;\n  max-height: 200px; /* Ограничьте высоту, чтобы не перекрывать весь экран */\n  overflow-y: auto; /* Добавьте прокрутку */\n}\n.vue-select {\n  position: relative;\n  display: inline-block; /* Чтобы список был связан с селектом */\n  width: 100%; /* Убедитесь, что поле занимает всю доступную ширину */\n}\n\n\n.product-item img {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.product-item p {\n  margin-top: 10px;\n  font-size: 0.9em;\n  color: #333;\n  text-align: center;\n}\n.review-product {\n  display: flex;\n  align-items: center; /* Центрирует текст по вертикали относительно изображения */\n  margin-bottom: 10px;\n}\n\n.product-image {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 4px;\n  margin-right: 15px; /* Отступ между изображением и текстом */\n}\n\n.product-info {\n  display: flex;\n  flex-direction: column;\n  justify-content: center; /* Центрирует текст внутри, если появятся дополнительные элементы */\n}\n\n.product-title {\n  font-weight: bold;\n  font-size: 1em;\n  color: #333;\n  text-align: left; /* Текст выравнивается по левому краю */\n}\n\n\n.product-item:hover {\n  transform: scale(1.05);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.product-item.selected {\n  border-color: gold;\n  box-shadow: 0 0 10px gold;\n}\n\n\n.reviews-page {\n  width: 100%;\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.reviews-list {\n  margin-bottom: 30px;\n}\n\n.review-item {\n  border-bottom: 1px solid #ddd;\n  padding: 15px 0;\n}\n\n.review-item h3 {\n  margin: 0;\n  font-size: 1.2em;\n}\n\n.rating {\n  color: gold;\n  margin-left: 20px;\n}\n\n\n.category {\n  font-size: 0.9em;\n  color: #666;\n}\n\n.date {\n  font-size: 0.8em;\n  color: #aaa;\n}\n\n.feedback-form {\n  background-color: #fff;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.feedback-form h3 {\n  font-size: 1.5em;\n  margin-bottom: 20px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\ninput[type=\"checkbox\"] {\n  margin-right: 8px;\n}\n\n\n.form-group label {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n}\n\n.form-group input[type=\"checkbox\"] {\n  margin-right: 10px; /* Отступ между чекбоксом и текстом */\n}\n\n\ninput[type=\"text\"],\ntextarea,\nselect {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n\n\n.error {\n  color: rgba(255, 0, 0, 0.6); /* Бледный полупрозрачный красный */\n  font-size: 0.85em;\n}\n\n.stars {\n  display: inline-block;\n}\n\n.star {\n  font-size: 1.5em;\n  color: #ddd;\n  cursor: pointer;\n}\n\n.star.filled {\n  color: gold;\n}\n\n.star:hover,\n.star.filled:hover {\n  color: gold;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}