{"ast":null,"code":"import { createRouter, createWebHashHistory } from \"vue-router\";\nimport SignUp from \"../../pages/SignUp.vue\";\nimport SignIn from \"../../pages/SignIn.vue\";\nimport EnterScreen from \"../components/EnterScreen/EnterScreen.vue\";\nimport HomePage from \"../../pages/HomePage.vue\";\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes: [{\n    path: \"/\",\n    component: EnterScreen,\n    meta: {\n      marginTop: true\n    }\n  }, {\n    path: \"/sign-in\",\n    component: SignIn,\n    meta: {\n      marginTop: true\n    }\n  }, {\n    path: \"/sign-up\",\n    component: SignUp,\n    meta: {\n      marginTop: true\n    }\n  }, {\n    path: \"/home\",\n    component: HomePage,\n    meta: {\n      marginTop: false\n    }\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/', '/sign-in', '/sign-up'];\n  const authRequired = !publicPages.includes(to.path);\n\n  // Получаем токен из localStorage\n  const token = localStorage.getItem('jwt');\n  console.log(token);\n  if (authRequired && !token) {\n    return next('/');\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","SignUp","SignIn","EnterScreen","HomePage","router","history","routes","path","component","meta","marginTop","beforeEach","to","from","next","publicPages","authRequired","includes","token","localStorage","getItem","console","log"],"sources":["/Users/nicolassergeev/WebstormProjects/MegaProject/src/utils/router.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from \"vue-router\";\n\nimport SignUp from \"../../pages/SignUp.vue\";\nimport SignIn from \"../../pages/SignIn.vue\";\nimport EnterScreen from \"../components/EnterScreen/EnterScreen.vue\";\nimport HomePage from \"../../pages/HomePage.vue\";\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes: [\n    { path: \"/\", component: EnterScreen, meta: { marginTop: true } },\n    { path: \"/sign-in\", component: SignIn, meta: { marginTop: true } },\n    { path: \"/sign-up\", component: SignUp, meta: { marginTop: true } },\n    { path: \"/home\", component: HomePage, meta: { marginTop: false } },\n  ],\n});\n\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/', '/sign-in', '/sign-up'];\n  const authRequired = !publicPages.includes(to.path);\n\n  // Получаем токен из localStorage\n  const token = localStorage.getItem('jwt');\n  console.log(token);\n\n  if (authRequired && !token) {\n    return next('/');\n  }\n  next();\n});\n\n\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,oBAAoB,QAAQ,YAAY;AAE/D,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,WAAW,MAAM,2CAA2C;AACnE,OAAOC,QAAQ,MAAM,0BAA0B;AAE/C,MAAMC,MAAM,GAAGN,YAAY,CAAC;EAC1BO,OAAO,EAAEN,oBAAoB,CAAC,CAAC;EAC/BO,MAAM,EAAE,CACN;IAAEC,IAAI,EAAE,GAAG;IAAEC,SAAS,EAAEN,WAAW;IAAEO,IAAI,EAAE;MAAEC,SAAS,EAAE;IAAK;EAAE,CAAC,EAChE;IAAEH,IAAI,EAAE,UAAU;IAAEC,SAAS,EAAEP,MAAM;IAAEQ,IAAI,EAAE;MAAEC,SAAS,EAAE;IAAK;EAAE,CAAC,EAClE;IAAEH,IAAI,EAAE,UAAU;IAAEC,SAAS,EAAER,MAAM;IAAES,IAAI,EAAE;MAAEC,SAAS,EAAE;IAAK;EAAE,CAAC,EAClE;IAAEH,IAAI,EAAE,OAAO;IAAEC,SAAS,EAAEL,QAAQ;IAAEM,IAAI,EAAE;MAAEC,SAAS,EAAE;IAAM;EAAE,CAAC;AAEtE,CAAC,CAAC;AAEFN,MAAM,CAACO,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,WAAW,GAAG,CAAC,GAAG,EAAE,UAAU,EAAE,UAAU,CAAC;EACjD,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACL,EAAE,CAACL,IAAI,CAAC;;EAEnD;EACA,MAAMW,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;EACzCC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EAElB,IAAIF,YAAY,IAAI,CAACE,KAAK,EAAE;IAC1B,OAAOJ,IAAI,CAAC,GAAG,CAAC;EAClB;EACAA,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAIF,eAAeV,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}