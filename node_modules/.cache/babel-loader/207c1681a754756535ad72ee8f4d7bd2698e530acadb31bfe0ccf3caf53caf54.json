{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/img/logo.webp';\nconst _withScopeId = n => (_pushScopeId(\"data-v-bb50a5e4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"header\"\n};\nconst _hoisted_2 = {\n  class: \"flex items-center gap-4\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"Logo\",\n  class: \"logo-size cursor-pointer\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  key: 0,\n  class: \"font-bold text-xl uppercase\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"font-bold text-xl uppercase\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"font-bold text-xl uppercase\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-slate-400\"\n}, \"Приложение для управления заказами\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"flex items-center gap-10\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"/profile.svg\",\n  alt: \"Favorite\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Мой аккаунт\", -1 /* HOISTED */));\nconst _hoisted_11 = [_hoisted_9, _hoisted_10];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_ModalWindow = _resolveComponent(\"ModalWindow\");\n  return _openBlock(), _createElementBlock(\"header\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/home\"\n  }, {\n    default: _withCtx(() => [_hoisted_3]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", null, [this.userRole === '0' ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_4, \"Ваша роль: Бригадир\")) : _createCommentVNode(\"v-if\", true), this.userRole === '1' ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_5, \"Ваша роль: Заказчик\")) : _createCommentVNode(\"v-if\", true), this.userRole === '2' ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_6, \"Ваша роль: Админ\")) : _createCommentVNode(\"v-if\", true), _hoisted_7])]), _createElementVNode(\"ul\", _hoisted_8, [_createElementVNode(\"li\", {\n    class: \"flex items-center gap-3 cursor-pointer\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.showLogoutModal && $options.showLogoutModal(...args))\n  }, _hoisted_11)]), _createVNode(_component_ModalWindow, {\n    ref: \"confirmationModal\",\n    onConfirm: $options.logout\n  }, null, 8 /* PROPS */, [\"onConfirm\"])]);\n}","map":{"version":3,"mappings":";OAIaA,UAA6B;;;EAHhCC,KAAK,EAAC;AAAQ;;EACfA,KAAK,EAAC;AAAyB;gEAEhCC,oBAAgF;EAA3EC,GAA6B,EAA7BH,UAA6B;EAACI,GAAG,EAAC,MAAM;EAACH,KAAK,EAAC;;;;EAGnBA,KAAK,EAAC;;;;EACNA,KAAK,EAAC;;;;EACNA,KAAK,EAAC;;gEACvCC,oBAAgE;EAA7DD,KAAK,EAAC;AAAgB,GAAC,oCAAkC;;EAI5DA,KAAK,EAAC;AAA0B;gEAEhCC,oBAAwC;EAAnCC,GAAG,EAAC,cAAc;EAACC,GAAG,EAAC;;iEAC5BF,oBAAwB,cAAlB,aAAW;qBADjBG,UAAwC,EACxCC,WAAwB;;;;uBAhB9BC,oBAwBS,UAxBTC,UAwBS,GAvBPN,oBAUM,OAVNO,UAUM,GATJC,aAEcC;IAFDC,EAAE,EAAC;EAAO;sBACrB,MAAgF,CAAhFC,UAAgF;;MAElFX,oBAKM,mBAJWY,QAAQ,0BAAvBP,oBAA6F,MAA7FQ,UAA6F,EAAxB,qBAAmB,6CACzED,QAAQ,0BAAvBP,oBAA6F,MAA7FS,UAA6F,EAAxB,qBAAmB,6CACzEF,QAAQ,0BAAvBP,oBAA0F,MAA1FU,UAA0F,EAArB,kBAAgB,wCACrFC,UAAgE,MAIpEhB,oBAKK,MALLiB,UAKK,GAJHjB,oBAGK;IAHDD,KAAK,EAAC,wCAAwC;IAAEmB,OAAK,yCAAEC,6DAAe;qBAM5EX,aAGEY;IAFEC,GAAG,EAAC,mBAAmB;IACtBC,SAAO,EAAEH","names":["_imports_0","class","_createElementVNode","src","alt","_hoisted_9","_hoisted_10","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","userRole","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","onClick","$options","_component_ModalWindow","ref","onConfirm"],"sourceRoot":"","sources":["/Users/nicolassergeev/WebstormProjects/MegaProject/src/components/AppHeader.vue"],"sourcesContent":["<template>\n  <header class=\"header\">\n    <div class=\"flex items-center gap-4\">\n      <router-link to=\"/home\">\n        <img src=\"../assets/img/logo.webp\" alt=\"Logo\" class=\"logo-size cursor-pointer\"/>\n      </router-link>\n      <div>\n        <h2 v-if=\"this.userRole === '0'\" class=\"font-bold text-xl uppercase\">Ваша роль: Бригадир</h2>\n        <h2 v-if=\"this.userRole === '1'\" class=\"font-bold text-xl uppercase\">Ваша роль: Заказчик</h2>\n        <h2 v-if=\"this.userRole === '2'\" class=\"font-bold text-xl uppercase\">Ваша роль: Админ</h2>\n        <p class=\"text-slate-400\">Приложение для управления заказами</p>\n      </div>\n    </div>\n\n    <ul class=\"flex items-center gap-10\">\n      <li class=\"flex items-center gap-3 cursor-pointer\" @click=\"showLogoutModal\">\n        <img src=\"/profile.svg\" alt=\"Favorite\"/>\n        <span>Мой аккаунт</span>\n      </li>\n    </ul>\n\n    <ModalWindow\n        ref=\"confirmationModal\"\n        @confirm=\"logout\"\n    />\n  </header>\n</template>\n\n<script>\nimport ModalWindow from \"@/components/ModalWindow.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    ModalWindow,\n  },\n  data() {\n    return {\n      userRole: localStorage.getItem(\"userRole\"),\n    };\n  },\n  methods: {\n    showLogoutModal() {\n      this.$refs.confirmationModal.openModal();\n    },\n    async logout() {\n      try {\n        await axios.post(\"http://localhost:localhost:7265/Auth/logout\");\n\n\n        this.$store.dispatch(\"logout\");\n\n        localStorage.removeItem(\"authToken\");\n\n        this.$router.push(\"/\");\n\n      } catch (error) {\n        console.error(\"Ошибка при выходе из аккаунта:\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.logo-size {\n  width: 70px; /* Adjust size as needed */\n  height: auto; /* Maintain aspect ratio */\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}