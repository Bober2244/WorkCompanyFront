{"ast":null,"code":"import { reactive } from \"vue\";\nconst store = reactive({\n  cartItems: [],\n  userId: sessionStorage.getItem('userId'),\n  // Get userId from sessionStorage\n\n  // Function to load cart items for the current user\n  async loadCart() {\n    try {\n      const response = await fetch(`http://localhost:8000/api/cart/${this.userId}`);\n      if (!response.ok) {\n        throw new Error(\"Не удалось загрузить корзину\");\n      }\n      const data = await response.json();\n      this.cartItems = data;\n    } catch (error) {\n      console.error(\"Ошибка при загрузке корзины:\", error);\n    }\n  },\n  // Calculate total price of items in the cart\n  get totalPrice() {\n    return this.cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  },\n  // Get total items count in the cart\n  get totalItems() {\n    return this.cartItems.reduce((count, item) => count + item.quantity, 0);\n  }\n});\nexport default store;","map":{"version":3,"names":["reactive","store","cartItems","userId","sessionStorage","getItem","loadCart","response","fetch","ok","Error","data","json","error","console","totalPrice","reduce","sum","item","price","quantity","totalItems","count"],"sources":["/Users/nicolassergeev/WebstormProjects/frontend-ShoesShop/src/store.js"],"sourcesContent":["import { reactive } from \"vue\";\n\nconst store = reactive({\n    cartItems: [],\n    userId: sessionStorage.getItem('userId'),  // Get userId from sessionStorage\n\n    // Function to load cart items for the current user\n    async loadCart() {\n        try {\n            const response = await fetch(`http://localhost:8000/api/cart/${this.userId}`);\n            if (!response.ok) {\n                throw new Error(\"Не удалось загрузить корзину\");\n            }\n            const data = await response.json();\n            this.cartItems = data;\n        } catch (error) {\n            console.error(\"Ошибка при загрузке корзины:\", error);\n        }\n    },\n\n    // Calculate total price of items in the cart\n    get totalPrice() {\n        return this.cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    },\n\n    // Get total items count in the cart\n    get totalItems() {\n        return this.cartItems.reduce((count, item) => count + item.quantity, 0);\n    },\n});\n\nexport default store;\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,KAAK;AAE9B,MAAMC,KAAK,GAAGD,QAAQ,CAAC;EACnBE,SAAS,EAAE,EAAE;EACbC,MAAM,EAAEC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC;EAAG;;EAE3C;EACA,MAAMC,QAAQA,CAAA,EAAG;IACb,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,kCAAiC,IAAI,CAACL,MAAO,EAAC,CAAC;MAC7E,IAAI,CAACI,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;MACnD;MACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClC,IAAI,CAACV,SAAS,GAAGS,IAAI;IACzB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACxD;EACJ,CAAC;EAED;EACA,IAAIE,UAAUA,CAAA,EAAG;IACb,OAAO,IAAI,CAACb,SAAS,CAACc,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAQ,EAAE,CAAC,CAAC;EACpF,CAAC;EAED;EACA,IAAIC,UAAUA,CAAA,EAAG;IACb,OAAO,IAAI,CAACnB,SAAS,CAACc,MAAM,CAAC,CAACM,KAAK,EAAEJ,IAAI,KAAKI,KAAK,GAAGJ,IAAI,CAACE,QAAQ,EAAE,CAAC,CAAC;EAC3E;AACJ,CAAC,CAAC;AAEF,eAAenB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}