{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6dc3ee57\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"product-detail-container\"\n};\nconst _hoisted_2 = {\n  class: \"product-detail\"\n};\nconst _hoisted_3 = {\n  class: \"image-slider-wrapper\"\n};\nconst _hoisted_4 = {\n  class: \"product-info\"\n};\nconst _hoisted_5 = {\n  class: \"price\"\n};\nconst _hoisted_6 = {\n  class: \"size-selection\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Выберите размер:\", -1 /* HOISTED */));\nconst _hoisted_8 = [\"value\"];\nconst _hoisted_9 = {\n  class: \"description\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppHeader = _resolveComponent(\"AppHeader\");\n  const _component_ImageSlider = _resolveComponent(\"ImageSlider\");\n  const _component_AppFooter = _resolveComponent(\"AppFooter\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_AppHeader), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_ImageSlider, {\n    images: $setup.product.images\n  }, null, 8 /* PROPS */, [\"images\"])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h1\", null, _toDisplayString($setup.product.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_5, \"Цена: \" + _toDisplayString($setup.product.price) + \" руб.\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"select\", {\n    class: \"size-dropdown\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedSize = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.product.sizes, size => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: size,\n      value: size\n    }, _toDisplayString(size), 9 /* TEXT, PROPS */, _hoisted_8);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedSize]])]), _createElementVNode(\"p\", _hoisted_9, _toDisplayString($setup.product.description), 1 /* TEXT */), _createElementVNode(\"button\", {\n    class: \"form__button\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.addToCart && $setup.addToCart(...args))\n  }, \" Добавить в корзину за \" + _toDisplayString($setup.product.price) + \" руб. \", 1 /* TEXT */)])])]), _createVNode(_component_AppFooter)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;;EAEOA,KAAK,EAAC;AAA0B;;EAC9BA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAsB;;EAG5BA,KAAK,EAAC;AAAc;;EAEpBA,KAAK,EAAC;AAAO;;EAEXA,KAAK,EAAC;AAAgB;gEACzBC,oBAAyB,YAArB,kBAAgB;;;EAenBD,KAAK,EAAC;AAAa;;;;;6DA1B5BE,aAAuBC,uBACvBF,oBAgCM,OAhCNG,UAgCM,GA/BJH,oBA8BM,OA9BNI,UA8BM,GA7BJJ,oBAEM,OAFNK,UAEM,GADJJ,aAAwCK;IAA1BC,MAAM,EAAEC,cAAO,CAACD;yCAEhCP,oBAyBM,OAzBNS,UAyBM,GAxBJT,oBAA4B,6BAArBQ,cAAO,CAACE,KAAK,kBACpBV,oBAAmD,KAAnDW,UAAmD,EAAlC,QAAM,oBAAGH,cAAO,CAACI,KAAK,IAAG,OAAK,iBAE/CZ,oBAcM,OAdNa,UAcM,GAbJC,UAAyB,kBACzBd,oBAWS;IAVLD,KAAK,EAAC,eAAe;+DACZgB,kBAAY;yBAEvBC,oBAMSC,6BALUT,cAAO,CAACU,KAAK,EAArBC,IAAI;yBADfH,oBAMS;MAJJI,GAAG,EAAED,IAAI;MACTE,KAAK,EAAEF;wBAEPA,IAAI;2EAPEJ,kBAAY,OAY3Bf,oBAAoD,KAApDsB,UAAoD,mBAA1Bd,cAAO,CAACe,WAAW,kBAE7CvB,oBAES;IAFDD,KAAK,EAAC,cAAc;IAAEyB,OAAK,yCAAEhB,6CAAS;KAAE,yBACxB,oBAAGA,cAAO,CAACI,KAAK,IAAG,QAC3C,uBAINX,aAAuBwB","names":["class","_createElementVNode","_createVNode","_component_AppHeader","_hoisted_1","_hoisted_2","_hoisted_3","_component_ImageSlider","images","$setup","_hoisted_4","title","_hoisted_5","price","_hoisted_6","_hoisted_7","$data","_createElementBlock","_Fragment","sizes","size","key","value","_hoisted_9","description","onClick","_component_AppFooter"],"sourceRoot":"","sources":["/Users/nicolassergeev/WebstormProjects/frontend-ShoesShop/pages/ProductDetail.vue"],"sourcesContent":["<template>\n  <AppHeader></AppHeader>\n  <div class=\"product-detail-container\">\n    <div class=\"product-detail\">\n      <div class=\"image-slider-wrapper\">\n        <ImageSlider :images=\"product.images\" />\n      </div>\n      <div class=\"product-info\">\n        <h1>{{ product.title }}</h1>\n        <p class=\"price\">Цена: {{ product.price }} руб.</p>\n\n        <div class=\"size-selection\">\n          <h2>Выберите размер:</h2>\n          <select\n              class=\"size-dropdown\"\n              v-model=\"selectedSize\"\n          >\n            <option\n                v-for=\"size in product.sizes\"\n                :key=\"size\"\n                :value=\"size\"\n            >\n              {{ size }}\n            </option>\n          </select>\n        </div>\n\n        <p class=\"description\">{{ product.description }}</p>\n\n        <button class=\"form__button\" @click=\"addToCart\">\n          Добавить в корзину за {{ product.price }} руб.\n        </button>\n      </div>\n    </div>\n  </div>\n  <AppFooter></AppFooter>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport {createRouter as cart, useRoute} from 'vue-router';\nimport axios from 'axios';\nimport AppHeader from \"@/components/AppHeader.vue\";\nimport AppFooter from \"@/components/AppFooter.vue\";\nimport ImageSlider from \"@/components/ImageSlider.vue\";\nimport store from \"../store\";\n\nexport default {\n  components: {\n    AppFooter,\n    AppHeader,\n    ImageSlider\n  },\n  data() {\n    return {\n      selectedSize: 39, // Изначально выбранный размер\n      cart: [], // Локальная корзина (можно заменить на store)\n    };\n  },\n  setup() {\n    const route = useRoute();\n    const product = ref({\n      title: '',\n      images: [],\n      price: '',\n      sizes: [],\n      description: ''\n    });\n\n    // Получаем данные о продукте при монтировании\n    onMounted(async () => {\n      const productId = route.params.id;\n\n      try {\n        const response = await axios.get(`http://localhost:8000/api/items/${productId}`);\n        const productData = response.data;\n\n        product.value = {\n          title: productData.title,\n          images: productData.image_urls.slice(1),\n          price: productData.price,\n          sizes: productData.sizes || [35, 35.5, 36, 36.5, 37, 38, 39, 40, 40.5, 41, 41.5, 42, 42.5, 43.5, 44, 45, 45.5],\n          description: productData.description\n        };\n      } catch (error) {\n        console.error(\"Ошибка при загрузке данных продукта:\", error);\n      }\n    });\n\n    // Метод добавления товара в корзину\n    const addToCart = () => {\n      const selectedProduct = {\n        id: route.params.id,\n        title: product.value.title,\n        price: product.value.price,\n        size: this.selectedSize,\n      };\n\n      store.$cartItems.push(selectedProduct);\n\n      // Логика для синхронизации корзины с сервером, если нужно:\n      // axios.post('http://localhost:8000/api/cart', cart)\n      console.log(\"Товар добавлен в корзину:\", selectedProduct);\n    };\n\n    return {product, $cartItems, addToCart};\n  }\n};\n</script>\n\n<style scoped>\n.product-detail-container {\n  padding: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.product-detail {\n  display: flex;\n  gap: 2rem;\n  align-items: center;\n}\n\n.image-slider-wrapper {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.product-info {\n  flex: 2;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.price {\n  font-size: 1.5rem;\n  color: #333;\n  margin: 1rem 0;\n}\n\n.size-selection {\n  margin: 1rem 0;\n}\n\n.description {\n  font-size: 1rem;\n  color: #666;\n  margin: 1rem 0;\n}\n\n.size-dropdown {\n  padding: 10px 15px;\n  font-size: 1rem;\n  border: 2px solid #ddd;\n  border-radius: 8px;\n  background: #f9f9f9;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  width: 100%;\n  max-width: 200px;\n}\n\n.form__button {\n  padding: 1rem;\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-size: 1.2rem;\n  margin: 1rem 0;\n}\n\n.form__button:hover {\n  background-color: #45a049;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}