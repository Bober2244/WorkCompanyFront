{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withKeys as _withKeys, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-090562b2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"layout-container\"\n};\nconst _hoisted_2 = {\n  class: \"page-content\"\n};\nconst _hoisted_3 = {\n  class: \"header-section\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Добро пожаловать в наш каталог! \", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"controls-container\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"name\\\" data-v-090562b2>По названию</option><option value=\\\"price_asc\\\" data-v-090562b2>По цене (дешевые)</option><option value=\\\"price_desc\\\" data-v-090562b2>По цене (дорогие)</option><option value=\\\"Shoes1\\\" data-v-090562b2>Кроссовки</option><option value=\\\"Shoes2\\\" data-v-090562b2>Туфли</option>\", 5);\nconst _hoisted_11 = [_hoisted_6];\nconst _hoisted_12 = {\n  class: \"search-container\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"/search.svg\",\n  alt: \"search\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  class: \"product-grid\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppHeader = _resolveComponent(\"AppHeader\");\n  const _component_product_card = _resolveComponent(\"product-card\");\n  const _component_AppFooter = _resolveComponent(\"AppFooter\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_AppHeader), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"select\", {\n    class: \"select-sort\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.sortParameter = $event)\n  }, _hoisted_11, 512 /* NEED_PATCH */), [[_vModelSelect, $data.sortParameter]]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchQuery = $event),\n    class: \"search-input\",\n    placeholder: \"Поиск...\",\n    onKeydown: _cache[2] || (_cache[2] = _withKeys((...args) => $options.performSearch && $options.performSearch(...args), [\"enter\"]))\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _createElementVNode(\"div\", {\n    class: \"search-icon\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.performSearch && $options.performSearch(...args))\n  }, _hoisted_14)]), _createElementVNode(\"button\", {\n    class: \"reset-button\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.resetSearch && $options.resetSearch(...args))\n  }, \"Сброс\")])]), _createElementVNode(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createBlock(_component_product_card, {\n      key: product.id,\n      title: product.title,\n      price: product.price,\n      img: product.image_urls.length > 0 ? product.image_urls[0] : '../public/favicon.ico',\n      \"product-id\": product.id,\n      \"user-id\": $data.userId\n    }, null, 8 /* PROPS */, [\"title\", \"price\", \"img\", \"product-id\", \"user-id\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_AppFooter)]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAkB;;EAEtBA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAgB;gEACzBC,oBACK;EADDD,KAAK,EAAC;AAAO,GAAC,kCAClB;;EAEKA,KAAK,EAAC;AAAoB;;qBAE3BE,UAAyC;;EAQtCF,KAAK,EAAC;AAAkB;iEASzBC,oBAAsC;EAAjCE,GAAG,EAAC,aAAa;EAACC,GAAG,EAAC;;qBAA3BC,WAAsC;;EAOzCL,KAAK,EAAC;AAAc;;;;;uBAjC7BM,oBA8CM,OA9CNC,UA8CM,GA7CJC,aAAuBC,uBACvBR,oBA0CM,OA1CNS,UA0CM,GAzCJT,oBA4BM,OA5BNU,UA4BM,GA3BJC,UACK,EAELX,oBAuBM,OAvBNY,UAuBM,mBAtBJZ,oBAMS;IANDD,KAAK,EAAC,aAAa;+DAAUc,mBAAa;0DAAbA,mBAAa,KASlDb,oBAWM,OAXNc,WAWM,mBAVJd,oBAME;IALEe,IAAI,EAAC,MAAM;+DACFF,iBAAW;IACpBd,KAAK,EAAC,cAAc;IACpBiB,WAAW,EAAC,UAAU;IACrBC,SAAO,mDAAQC,yDAAa;iEAHpBL,iBAAW,KAKxBb,oBAEM;IAFDD,KAAK,EAAC,aAAa;IAAEoB,OAAK,yCAAED,yDAAa;qBAIhDlB,oBAAgE;IAAxDD,KAAK,EAAC,cAAc;IAAEoB,OAAK,yCAAED,qDAAW;KAAE,OAAK,OAI3DlB,oBAUM,OAVNoB,WAUM,sBATJf,oBAQEgB,6BAPsBR,cAAQ,EAApBS,OAAO;yBADnBC,aAQEC;MANGC,GAAG,EAAEH,OAAO,CAACI,EAAE;MACfC,KAAK,EAAEL,OAAO,CAACK,KAAK;MACpBC,KAAK,EAAEN,OAAO,CAACM,KAAK;MACpBC,GAAG,EAAEP,OAAO,CAACQ,UAAU,CAACC,MAAM,OAAOT,OAAO,CAACQ,UAAU;MACvD,YAAU,EAAER,OAAO,CAACI,EAAE;MACtB,SAAO,EAAEb;;sCAIlBN,aAAuByB","names":["class","_createElementVNode","_hoisted_6","src","alt","_hoisted_13","_createElementBlock","_hoisted_1","_createVNode","_component_AppHeader","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$data","_hoisted_12","type","placeholder","onKeydown","$options","onClick","_hoisted_15","_Fragment","product","_createBlock","_component_product_card","key","id","title","price","img","image_urls","length","_component_AppFooter"],"sourceRoot":"","sources":["/Users/nicolassergeev/WebstormProjects/frontend-ShoesShop/pages/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"layout-container\">\n    <AppHeader></AppHeader>\n    <div class=\"page-content\">\n      <div class=\"header-section\">\n        <h1 class=\"title\">Добро пожаловать в наш каталог!\n        </h1>\n\n        <div class=\"controls-container\">\n          <select class=\"select-sort\" v-model=\"sortParameter\">\n            <option value=\"name\">По названию</option>\n            <option value=\"price_asc\">По цене (дешевые)</option>\n            <option value=\"price_desc\">По цене (дорогие)</option>\n            <option value=\"Shoes1\">Кроссовки</option>\n            <option value=\"Shoes2\">Туфли</option>\n          </select>\n\n\n          <div class=\"search-container\">\n            <input\n                type=\"text\"\n                v-model=\"searchQuery\"\n                class=\"search-input\"\n                placeholder=\"Поиск...\"\n                @keydown.enter=\"performSearch\"\n            />\n            <div class=\"search-icon\" @click=\"performSearch\">\n              <img src=\"/search.svg\" alt=\"search\" />\n            </div>\n          </div>\n          <button class=\"reset-button\" @click=\"resetSearch\">Сброс</button>\n        </div>\n      </div>\n\n      <div class=\"product-grid\">\n        <product-card\n            v-for=\"(product) in products\"\n            :key=\"product.id\"\n            :title=\"product.title\"\n            :price=\"product.price\"\n            :img=\"product.image_urls.length > 0 ? product.image_urls[0] : '../public/favicon.ico'\"\n            :product-id=\"product.id\"\n            :user-id=\"userId\"\n        />\n      </div>\n    </div>\n    <AppFooter></AppFooter>\n  </div>\n</template>\n\n<script>\nimport AppHeader from \"@/components/AppHeader.vue\";\nimport ProductCard from \"@/components/ProductCard.vue\";\nimport AppFooter from \"@/components/AppFooter.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: { AppFooter, AppHeader, ProductCard },\n  data() {\n    return {\n      userId: null,\n      products: [],\n      searchQuery: '',\n      sortParameter: 'name',\n    };\n  },\n  watch: {\n    sortParameter() {\n      this.updateProducts();\n    },\n  },\n\n  created() {\n    this.userId = sessionStorage.getItem('userId');\n    this.updateProducts();\n  },\n  methods: {\n    async updateProducts() {\n      try {\n        const queryParam = this.searchQuery.trim()\n            ? `query=${this.searchQuery}`\n            : '';\n        const sortParam = `sort=${this.sortParameter}`;\n\n        const response = await axios.get(\n            `http://localhost:8000/api/items/search?${queryParam}&${sortParam}`\n        );\n        console.log(response.data);\n        this.products = response.data;\n      } catch (error) {\n        console.error('Ошибка при обновлении списка продуктов:', error);\n      }\n    },\n    async performSearch() {\n      await this.updateProducts();\n    },\n    resetSearch() {\n      this.searchQuery = '';\n      this.sortParameter = 'name';\n      this.updateProducts();\n    },\n  },\n};\n\n</script>\n\n\n<style scoped>\n\n.user-id {\n  font-size: 1.2rem;\n  color: #6b7280; /* Серый цвет */\n  margin-left: 0.5rem;\n}\n\n.layout-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n\n.page-content {\n  padding: 2.5rem; /* заменяет p-10 */\n}\n\n.header-section {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2.5rem; /* заменяет mb-10 */\n}\n\n.title {\n  font-size: 2rem; /* заменяет text-3xl */\n  font-weight: bold;\n}\n\n.controls-container {\n  display: flex;\n  align-items: center;\n  gap: 1rem; /* заменяет gap-4 */\n}\n\n.select-sort {\n  padding: 0.5rem 0.75rem; /* заменяет py-2 px-3 */\n  border: 1px solid #d1d5db; /* заменяет border-gray-200 */\n  border-radius: 0.375rem; /* заменяет rounded-md */\n  outline: none;\n}\n\n.select-sort:focus {\n  border-color: #9ca3af; /* заменяет focus:border-gray-400 */\n}\n\n.search-container {\n  display: flex;\n  align-items: center;\n  border: 1px solid #d1d5db; /* Добавлен бордер */\n  border-radius: 0.375rem;\n}\n\n.search-input {\n  padding: 0.5rem 0.75rem;\n  padding-left: 2.5rem; /* для иконки */\n  border: none;\n  outline: none;\n  height: 2.5rem; /* Высота для выравнивания */\n}\n\n.search-input:focus {\n  border-color: #9ca3af;\n}\n\n.search-icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  margin-left: 0.75rem;\n  cursor: pointer;\n  transition: transform 0.2s ease-in-out;\n}\n.search-icon:hover {\n  transform: scale(1.1);\n}\n\n.product-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr); /* 4 карточки в строке */\n  gap: 2.5rem; /* Зазор между карточками */\n}\n\n.reset-button {\n  padding: 0.5rem 1rem;\n  background-color: #f3f4f6; /* светлый цвет */\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n}\n\n.reset-button:hover {\n  background-color: #e5e7eb; /* чуть темнее при наведении */\n}\n\n@media (min-width: 640px) {\n  .product-grid {\n    grid-template-columns: repeat(2, 1fr); /* заменяет sm:grid-cols-2 */\n  }\n}\n\n@media (min-width: 768px) {\n  .product-grid {\n    grid-template-columns: repeat(3, 1fr); /* заменяет md:grid-cols-3 */\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}