{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1b294522\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"vue-select\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"vue-select__dropdown\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"src\", \"alt\"];\nconst _hoisted_5 = {\n  class: \"vue-select__item-title\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"vue-select__no-results\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.onSearchInput && $options.onSearchInput(...args)),\n    placeholder: \"Выберите продукт...\",\n    class: \"vue-select__input\"\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $data.searchQuery]]), $options.filteredItems.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredItems, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.id,\n      class: \"vue-select__dropdown-item\",\n      onClick: $event => $options.selectItem(item)\n    }, [_createElementVNode(\"img\", {\n      src: item.image_urls[0],\n      alt: item.title,\n      class: \"vue-select__item-image\"\n    }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(item.title), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" Нет совпадений \"))]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAY;;;EAQgBA,KAAK,EAAC;;;;;EAQjCA,KAAK,EAAC;AAAwB;;;EAG5BA,KAAK,EAAC;;;uBAnBpBC,oBAsBM,OAtBNC,UAsBM,mBArBJC,oBAME;IALEC,IAAI,EAAC,MAAM;+DACFC,iBAAW;IACnBC,OAAK,yCAAEC,yDAAa;IACrBC,WAAW,EAAC,qBAAqB;IACjCR,KAAK,EAAC;iEAHGK,iBAAW,KAKbE,sBAAa,CAACE,MAAM,sBAA/BR,oBAUM,OAVNS,UAUM,sBATJT,oBAQMU,6BAPaJ,sBAAa,EAArBK,IAAI;yBADfX,oBAQM;MANDY,GAAG,EAAED,IAAI,CAACE,EAAE;MACbd,KAAK,EAAC,2BAA2B;MAChCe,OAAK,YAAER,mBAAU,CAACK,IAAI;QAEzBT,oBAAkF;MAA5Ea,GAAG,EAAEJ,IAAI,CAACK,UAAU;MAAMC,GAAG,EAAEN,IAAI,CAACO,KAAK;MAAEnB,KAAK,EAAC;yCACvDG,oBAA4D,QAA5DiB,UAA4D,mBAApBR,IAAI,CAACO,KAAK;qDAGtDlB,oBAEM,OAFNoB,UAEM,EAFqC,kBAE3C","names":["class","_createElementBlock","_hoisted_1","_createElementVNode","type","$data","onInput","$options","placeholder","length","_hoisted_2","_Fragment","item","key","id","onClick","src","image_urls","alt","title","_hoisted_5","_hoisted_6"],"sourceRoot":"","sources":["/Users/nicolassergeev/WebstormProjects/MegaProject/src/components/VueSelect.vue"],"sourcesContent":["<template>\n  <div class=\"vue-select\">\n    <input\n        type=\"text\"\n        v-model=\"searchQuery\"\n        @input=\"onSearchInput\"\n        placeholder=\"Выберите продукт...\"\n        class=\"vue-select__input\"\n    />\n    <div v-if=\"filteredItems.length > 0\" class=\"vue-select__dropdown\">\n      <div\n          v-for=\"item in filteredItems\"\n          :key=\"item.id\"\n          class=\"vue-select__dropdown-item\"\n          @click=\"selectItem(item)\"\n      >\n        <img :src=\"item.image_urls[0]\" :alt=\"item.title\" class=\"vue-select__item-image\" />\n        <span class=\"vue-select__item-title\">{{ item.title }}</span>\n      </div>\n    </div>\n    <div v-else class=\"vue-select__no-results\">\n      Нет совпадений\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"VueSelect\",\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    value: {\n      type: [Number],\n      default: null,\n    },\n  },\n  data() {\n    return {\n      searchQuery: \"\",\n      selectedItem: null,\n    };\n  },\n  computed: {\n    filteredItems() {\n      if (!this.searchQuery) {\n        return this.items;\n      }\n      return this.items.filter((item) =>\n          item.title.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    onSearchInput() {\n      // Можно добавить debounce\n    },\n    selectItem(item) {\n      this.selectedItem = item;\n      this.searchQuery = item.title;\n      console.log(\"Emitting productId with value:\", this.selectedItem.id); // Лог для проверки\n      this.$emit(\"productId\", this.selectedItem.id);\n    }\n  },\n};\n</script>\n\n<style scoped>\n.vue-select {\n  position: relative;\n  width: 100%;\n}\n\n.vue-select__input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.vue-select__dropdown {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  max-height: 200px;\n  overflow-y: auto;\n  background-color: white;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n}\n\n.vue-select__dropdown-item {\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.vue-select__dropdown-item:hover {\n  background-color: #f0f0f0;\n}\n\n.vue-select__item-image {\n  width: 30px;\n  height: 30px;\n  object-fit: cover;\n  border-radius: 4px;\n  margin-right: 10px;\n}\n\n.vue-select__item-title {\n  font-size: 0.9em;\n  color: #333;\n}\n\n.vue-select__no-results {\n  padding: 10px;\n  color: #aaa;\n  font-size: 0.9em;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}