{"ast":null,"code":"import AppHeader from \"@/components/AppHeader.vue\";\nimport ProductCard from \"@/components/ProductCard.vue\";\nimport AppFooter from \"@/components/AppFooter.vue\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    AppFooter,\n    AppHeader,\n    ProductCard\n  },\n  data() {\n    return {\n      userId: null,\n      products: [],\n      searchQuery: '',\n      sortParameter: 'name'\n    };\n  },\n  watch: {\n    sortParameter() {\n      this.updateProducts();\n    }\n  },\n  created() {\n    this.userId = sessionStorage.getItem('userId');\n    this.updateProducts();\n  },\n  methods: {\n    async updateProducts() {\n      try {\n        const queryParam = this.searchQuery.trim() ? `query=${this.searchQuery}` : '';\n        const sortParam = `sort=${this.sortParameter}`;\n        const response = await axios.get(`http://localhost:8000/api/items/search?${queryParam}&${sortParam}`);\n        console.log(response.data);\n        this.products = response.data;\n      } catch (error) {\n        console.error('Ошибка при обновлении списка продуктов:', error);\n      }\n    },\n    async performSearch() {\n      await this.updateProducts();\n    },\n    resetSearch() {\n      this.searchQuery = '';\n      this.sortParameter = 'name';\n      this.updateProducts();\n    }\n  }\n};","map":{"version":3,"mappings":"AAiDA,OAAOA,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,WAAU,MAAO,8BAA8B;AACtD,OAAOC,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,UAAU,EAAE;IAAEF,SAAS;IAAEF,SAAS;IAAEC;EAAY,CAAC;EACjDI,IAAIA,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACLD,aAAaA,GAAG;MACd,IAAI,CAACE,cAAc,CAAC,CAAC;IACvB;EACF,CAAC;EAEDC,OAAOA,GAAG;IACR,IAAI,CAACN,MAAK,GAAIO,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC9C,IAAI,CAACH,cAAc,CAAC,CAAC;EACvB,CAAC;EACDI,OAAO,EAAE;IACP,MAAMJ,cAAcA,GAAG;MACrB,IAAI;QACF,MAAMK,UAAS,GAAI,IAAI,CAACR,WAAW,CAACS,IAAI,CAAC,IAClC,SAAQ,IAAI,CAACT,WAAY,KAC1B,EAAE;QACR,MAAMU,SAAQ,GAAK,QAAO,IAAI,CAACT,aAAc,EAAC;QAE9C,MAAMU,QAAO,GAAI,MAAMhB,KAAK,CAACiB,GAAG,CAC3B,0CAAyCJ,UAAW,IAAGE,SAAU,EACtE,CAAC;QACDG,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACd,IAAI,CAAC;QAC1B,IAAI,CAACE,QAAO,GAAIY,QAAQ,CAACd,IAAI;MAC/B,EAAE,OAAOkB,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;MACjE;IACF,CAAC;IACD,MAAMC,aAAaA,GAAG;MACpB,MAAM,IAAI,CAACb,cAAc,CAAC,CAAC;IAC7B,CAAC;IACDc,WAAWA,GAAG;MACZ,IAAI,CAACjB,WAAU,GAAI,EAAE;MACrB,IAAI,CAACC,aAAY,GAAI,MAAM;MAC3B,IAAI,CAACE,cAAc,CAAC,CAAC;IACvB;EACF;AACF,CAAC","names":["AppHeader","ProductCard","AppFooter","axios","components","data","userId","products","searchQuery","sortParameter","watch","updateProducts","created","sessionStorage","getItem","methods","queryParam","trim","sortParam","response","get","console","log","error","performSearch","resetSearch"],"sourceRoot":"","sources":["/Users/nicolassergeev/WebstormProjects/frontend-ShoesShop/pages/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"layout-container\">\n    <AppHeader></AppHeader>\n    <div class=\"page-content\">\n      <div class=\"header-section\">\n        <h1 class=\"title\">Добро пожаловать в наш каталог!\n        </h1>\n\n        <div class=\"controls-container\">\n          <select class=\"select-sort\" v-model=\"sortParameter\">\n            <option value=\"name\">По названию</option>\n            <option value=\"price_asc\">По цене (дешевые)</option>\n            <option value=\"price_desc\">По цене (дорогие)</option>\n          </select>\n\n\n          <div class=\"search-container\">\n            <input\n                type=\"text\"\n                v-model=\"searchQuery\"\n                class=\"search-input\"\n                placeholder=\"Поиск...\"\n                @keydown.enter=\"performSearch\"\n            />\n            <div class=\"search-icon\" @click=\"performSearch\">\n              <img src=\"/search.svg\" alt=\"search\" />\n            </div>\n          </div>\n          <button class=\"reset-button\" @click=\"resetSearch\">Сброс</button>\n        </div>\n      </div>\n\n      <div class=\"product-grid\">\n        <product-card\n            v-for=\"(product) in products\"\n            :key=\"product.id\"\n            :title=\"product.title\"\n            :price=\"product.price\"\n            :img=\"product.image_urls.length > 0 ? product.image_urls[0] : '../public/favicon.ico'\"\n            :product-id=\"product.id\"\n            :user-id=\"userId\"\n        />\n      </div>\n    </div>\n    <AppFooter></AppFooter>\n  </div>\n</template>\n\n<script>\nimport AppHeader from \"@/components/AppHeader.vue\";\nimport ProductCard from \"@/components/ProductCard.vue\";\nimport AppFooter from \"@/components/AppFooter.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: { AppFooter, AppHeader, ProductCard },\n  data() {\n    return {\n      userId: null,\n      products: [],\n      searchQuery: '',\n      sortParameter: 'name',\n    };\n  },\n  watch: {\n    sortParameter() {\n      this.updateProducts();\n    },\n  },\n\n  created() {\n    this.userId = sessionStorage.getItem('userId');\n    this.updateProducts();\n  },\n  methods: {\n    async updateProducts() {\n      try {\n        const queryParam = this.searchQuery.trim()\n            ? `query=${this.searchQuery}`\n            : '';\n        const sortParam = `sort=${this.sortParameter}`;\n\n        const response = await axios.get(\n            `http://localhost:8000/api/items/search?${queryParam}&${sortParam}`\n        );\n        console.log(response.data);\n        this.products = response.data;\n      } catch (error) {\n        console.error('Ошибка при обновлении списка продуктов:', error);\n      }\n    },\n    async performSearch() {\n      await this.updateProducts();\n    },\n    resetSearch() {\n      this.searchQuery = '';\n      this.sortParameter = 'name';\n      this.updateProducts();\n    },\n  },\n};\n\n</script>\n\n\n<style scoped>\n\n.user-id {\n  font-size: 1.2rem;\n  color: #6b7280; /* Серый цвет */\n  margin-left: 0.5rem;\n}\n\n.layout-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n\n.page-content {\n  padding: 2.5rem; /* заменяет p-10 */\n}\n\n.header-section {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2.5rem; /* заменяет mb-10 */\n}\n\n.title {\n  font-size: 2rem; /* заменяет text-3xl */\n  font-weight: bold;\n}\n\n.controls-container {\n  display: flex;\n  align-items: center;\n  gap: 1rem; /* заменяет gap-4 */\n}\n\n.select-sort {\n  padding: 0.5rem 0.75rem; /* заменяет py-2 px-3 */\n  border: 1px solid #d1d5db; /* заменяет border-gray-200 */\n  border-radius: 0.375rem; /* заменяет rounded-md */\n  outline: none;\n}\n\n.select-sort:focus {\n  border-color: #9ca3af; /* заменяет focus:border-gray-400 */\n}\n\n.search-container {\n  display: flex;\n  align-items: center;\n  border: 1px solid #d1d5db; /* Добавлен бордер */\n  border-radius: 0.375rem;\n}\n\n.search-input {\n  padding: 0.5rem 0.75rem;\n  padding-left: 2.5rem; /* для иконки */\n  border: none;\n  outline: none;\n  height: 2.5rem; /* Высота для выравнивания */\n}\n\n.search-input:focus {\n  border-color: #9ca3af;\n}\n\n.search-icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  margin-left: 0.75rem;\n  cursor: pointer;\n  transition: transform 0.2s ease-in-out;\n}\n.search-icon:hover {\n  transform: scale(1.1);\n}\n\n.product-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr); /* 4 карточки в строке */\n  gap: 2.5rem; /* Зазор между карточками */\n}\n\n.reset-button {\n  padding: 0.5rem 1rem;\n  background-color: #f3f4f6; /* светлый цвет */\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n}\n\n.reset-button:hover {\n  background-color: #e5e7eb; /* чуть темнее при наведении */\n}\n\n@media (min-width: 640px) {\n  .product-grid {\n    grid-template-columns: repeat(2, 1fr); /* заменяет sm:grid-cols-2 */\n  }\n}\n\n@media (min-width: 768px) {\n  .product-grid {\n    grid-template-columns: repeat(3, 1fr); /* заменяет md:grid-cols-3 */\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}